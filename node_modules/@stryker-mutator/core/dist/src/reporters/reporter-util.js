"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.writeFile = exports.mkdir = exports.deleteDir = exports.copyFile = void 0;
const tslib_1 = require("tslib");
const path_1 = (0, tslib_1.__importDefault)(require("path"));
const util_1 = require("util");
const fs_1 = require("fs");
const mkdirp_1 = (0, tslib_1.__importDefault)(require("mkdirp"));
const rimraf_1 = (0, tslib_1.__importDefault)(require("rimraf"));
function copyFile(fromFilename, toFilename) {
    return new Promise((resolve, reject) => {
        const readStream = (0, fs_1.createReadStream)(fromFilename);
        const writeStream = (0, fs_1.createWriteStream)(toFilename);
        readStream.on('error', reject);
        writeStream.on('error', reject);
        readStream.pipe(writeStream);
        readStream.on('end', resolve);
    });
}
exports.copyFile = copyFile;
exports.deleteDir = (0, util_1.promisify)(rimraf_1.default);
exports.mkdir = mkdirp_1.default;
async function writeFile(fileName, content) {
    await (0, mkdirp_1.default)(path_1.default.dirname(fileName));
    await fs_1.promises.writeFile(fileName, content, 'utf8');
}
exports.writeFile = writeFile;
//# sourceMappingURL=reporter-util.js.map