"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CheckerDecorator = void 0;
const child_process_crashed_error_1 = require("../child-proxy/child-process-crashed-error");
const concurrent_1 = require("../concurrent");
class CheckerDecorator extends concurrent_1.ResourceDecorator {
    async check(mutant) {
        try {
            return await this.innerResource.check(mutant);
        }
        catch (err) {
            if (err instanceof child_process_crashed_error_1.ChildProcessCrashedError) {
                await this.recover();
                return this.innerResource.check(mutant);
            }
            else {
                throw err; //oops
            }
        }
    }
}
exports.CheckerDecorator = CheckerDecorator;
//# sourceMappingURL=checker-decorator.js.map